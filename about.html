<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Tags for Character Set and Viewport Configuration -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us - Savor Saga</title>
    
    <!-- External CSS Link -->
    <link rel="stylesheet" href="/about.css">
    
    <!-- Google Fonts Integration -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kalnia+Glaze:wght@100..700&family=Rowdies:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS Integration -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Font Awesome Integration -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Leaflet CSS for Map Integration -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css" />

    <!-- Inline CSS for Map Styling -->
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>

<body>
    <!-- Header Section -->
    <header>
        <div class="logo">
            <a href="/index.html">
                <img src="/smalllogo.png" alt="Savor Saga Logo">
            </a>
        </div>
        <div class="site-title">
            <h1>Savor Saga</h1>
            <p>Taste the Tale</p>
        </div>
        <nav>
            <label for="check" class="checkbtn">
                <i class="fas fa-bars"></i>
            </label>
            <input type="checkbox" id="check">
            <ul>
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="about.html"><i class="fa-solid fa-circle-info"></i> About</a></li>
                <li><a href="recipes.html"><i class="fa-solid fa-utensils"></i> Recipes</a></li>
                <li><a href="blog.html"><i class="fa-brands fa-blogger"></i> Blog</a></li>
                <li><a href="log.html"><i class="fa-solid fa-right-to-bracket"></i> Login/Signup</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- About Us Section -->
        <section class="about-intro">
            <h2>About Us</h2>
            <p>Welcome to Savor Saga, your ultimate destination for delicious recipes and culinary inspiration. Our mission is to bring you the finest recipes from around the world, crafted with love and passion.</p>
            <p>We believe that food is not just about sustenance but a journey of flavors, experiences, and memories. Join us as we explore the world of gastronomy, one recipe at a time.</p>
        </section>
        
        <br>
        
        <!-- Meet the Team Section -->
        <section class="team">
            <h2>Meet the Team</h2>
        </section>
        
        <br>
        
        <!-- Contact Section -->
        <section class="contact">
            <h2>Get in Touch</h2>
            <p>If you have any questions or would like to get in touch with us, please use the contact form below. Weâ€™d love to hear from you!</p>
            <form action="YOUR_FORM_ACTION_URL" method="post">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="4" required></textarea>
                </div>
                <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">Cancel</button>
                <button type="submit" class="btn btn-primary">Send Message</button>
            </form>
        </section>
        
        <br>
        
        <!-- Map Section -->
        <section class="map">
            <h2>Our Location</h2>
            <div id="map"></div>
            <br>
            <p class="btnclass"><a href="https://maps.app.goo.gl/UPxynwzz9XQ6iJTF7" target="_blank">View on Google Maps</a></p>
        </section>
    </main>

    <!-- Footer Section -->
    <footer>
        <div class="footer-content">
            <div class="footer-icons">
                <a href="https://www.facebook.com/" class="icon" target="_blank"><img src="/fbsvg.svg" alt="Facebook"></a>
                <a href="https://x.com/" class="icon" target="_blank"><img src="/twitsvg.svg" alt="Twitter"></a>
                <a href="https://www.instagram.com/" class="icon" target="_blank"><img src="/instsvg.svg" alt="Instagram"></a>
            </div>
        </div>
    </footer>

    <!-- Modal for Cancellation -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Cancellation</h5>
                </div>
                <div class="modal-body">
                    Confirm?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Integrations -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>

    <script>
        // Toggle Navigation Menu for Smaller Screens
        document.querySelector('.checkbtn').addEventListener('click', function () {
            const navUl = document.querySelector('nav ul');
            navUl.style.right = (navUl.style.right === '0px') ? '-100%' : '0';
        });

        //Leaflet Map
        var map = L.map('map').setView([12.9494, 77.5847], 15);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 20,
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var startLatLng = [12.935, 77.610];
        var endLatLng = [12.9494, 77.5847];

        var routingControl = L.Routing.control({
            waypoints: [
                L.latLng(startLatLng),
                L.latLng(endLatLng)
            ],
            routeWhileDragging: true
        }).addTo(map);

        function onLocationFound(e) {
            var radius = e.accuracy;
            
            if (userMarker) {
                map.removeLayer(userMarker);
            }

            var userMarker = L.marker(e.latlng).addTo(map)
                .bindPopup("You are within " + radius + " meters from this point").openPopup();
            
            L.circle(e.latlng, radius).addTo(map);

            routingControl.setWaypoints([
                L.latLng(e.latlng),
                L.latLng(endLatLng)
            ]);
            
            var distance = e.latlng.distanceTo(L.latLng(endLatLng));
            alert("Distance to Savor Saga: " + (distance / 1000).toFixed(2) + " km");
        }

        function onLocationError(e) {
            switch (e.code) {
                case e.PERMISSION_DENIED:
                    alert("Location access denied by the user.");
                    break;
                case e.POSITION_UNAVAILABLE:
                    alert("Location information is unavailable.");
                    break;
                case e.TIMEOUT:
                    alert("The request to get user location timed out.");
                    break;
                default:
                    alert("An unknown error occurred.");
                    break;
            }
        }

        map.on('locationfound', onLocationFound);
        map.on('locationerror', onLocationError);

        map.locate({ setView: true, maxZoom: 15, timeout: 10000 });

        // Load Team Members from XML File and Insert into the DOM
        document.addEventListener('DOMContentLoaded', function () {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "about.xml", true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var xmlDoc = xhr.responseXML;
                    var teamMembers = xmlDoc.getElementsByTagName("member");
                    var teamContainer = document.createElement('div');
                    teamContainer.classList.add('team-container');

                    Array.from(teamMembers).forEach(function (member) {
                        var name = member.getElementsByTagName("name")[0].textContent;
                        var role = member.getElementsByTagName("role")[0].textContent;
                        var image = member.getElementsByTagName("image")[0].textContent;
                        var description = member.getElementsByTagName("description")[0].textContent;

                        var memberDiv = document.createElement('div');
                        memberDiv.classList.add('team-member');
                        memberDiv.innerHTML = `
                            <img src="${image}" alt="${name}">
                            <h3>${name}</h3>
                            <p>${role}</p>
                            <p>${description}</p>
                        `;
                        teamContainer.appendChild(memberDiv);
                    });

                    document.querySelector('.team').appendChild(teamContainer);
                } else if (xhr.readyState === 4) {
                    console.error("Failed to load XML data");
                }
            };
            xhr.send();
        });
    </script>
</body>

</html>